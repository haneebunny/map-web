(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,n,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return o(1441)}])},1441:function(e,n,o){"use strict";o.r(n),o.d(n,{default:function(){return _}});var t=o(5893);o(9008),o(5675);var r=o(7294),i=o(2729);function a(){return(0,t.jsx)("div",{className:"w-full h-[48px] rounded-t-m position:relative pt-[16px] pb-[4px] ",children:(0,t.jsx)("div",{className:"w-[32px] h-[4px] rounded-sm bg-gray-400 m-auto"})})}o(5152);var c=o(9090);function s(){return(0,t.jsx)("div",{children:"내용입니다"})}var l=o(154);let u=window.innerHeight-160,d=window.innerHeight-60;function h(){let e=(0,i._)(["\n  display: flex;\n  flex-direction: column;\n\n  position: fixed;\n  z-index: 1;\n  top: calc(100% - 90px); /*시트가 얼마나 높이 위치할지*/\n  left: 0;\n  right: 0;\n\n  border-top-left-radius: 12px;\n  border-top-right-radius: 12px;\n  box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.6);\n  height: ","px;\n\n  background-color: gray;\n  box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25);\n\n  transition: transform 650ms ease-out; /*바텀시트 애니메이션 속도*/\n"]);return h=function(){return e},e}function p(){let[e,n]=(0,r.useState)(),{sheet:o,content:i}=function(){let[e,n]=(0,r.useState)(60),[o,t]=(0,r.useState)(0),i=(0,r.useRef)(null),a=(0,r.useRef)(null),c=(0,r.useRef)({touchStart:{sheetY:0,touchY:0},touchMove:{prevTouchY:0,movingDirection:"none"},isContentAreaTouched:!1});return(0,r.useEffect)(()=>{t(window.innerHeight-160),console.log(o)},[]),console.log(o),(0,r.useEffect)(()=>{var n,t,r;let s=()=>{var n,o;let{touchMove:t,isContentAreaTouched:r}=c.current;return!r||(null===(n=i.current)||void 0===n?void 0:n.getBoundingClientRect().y)!==e||"down"===t.movingDirection&&(null===(o=a.current)||void 0===o?void 0:o.scrollTop)<=0},l=e=>{var n;let{touchStart:o}=c.current;o.sheetY=null===(n=i.current)||void 0===n?void 0:n.getBoundingClientRect().y,console.log(e.touches),o.touchY=e.touches[0].clientY,console.log("스타트",o.touchY)},u=n=>{let{touchStart:t,touchMove:r}=c.current,a=n.touches[0];if(console.log("무브",r.prevTouchY),console.log("clientY",a.clientY),void 0===r.prevTouchY&&(r.prevTouchY=t.touchY),0===r.prevTouchY&&(r.prevTouchY=t.touchY),r.prevTouchY<a.clientY&&(r.movingDirection="down"),r.prevTouchY>a.clientY&&(r.movingDirection="up"),s()){var l;n.preventDefault();let r=a.clientY-t.touchY,c=t.sheetY+r;c<=e&&(c=e),c>=o&&(c=o),null===(l=i.current)||void 0===l||l.style.setProperty("transform","translateY(".concat(c-o,"px)"))}else document.body.style.overflowY="hidden"},d=n=>{var t;document.body.style.overflowY="auto";let{touchMove:r}=c.current,a=null===(t=i.current)||void 0===t?void 0:t.getBoundingClientRect().y;a!==e&&("down"===r.movingDirection&&i.current.style.setProperty("transform","translateY(0)"),"up"===r.movingDirection&&(console.log("up"),console.log("minY-maxY",e,o),i.current.style.setProperty("background-color","red"),i.current.style.setProperty("transform","translateY(-300px)"),console.log("style",i.current.style))),c.current={touchStart:{sheetY:0,touchY:0},touchMove:{prevTouchY:0,movingDirection:"none"},isContentAreaTouched:!1}};console.log("sheet.current",i.current.style),null===(n=i.current)||void 0===n||n.addEventListener("touchstart",l),null===(t=i.current)||void 0===t||t.addEventListener("touchmove",u),null===(r=i.current)||void 0===r||r.addEventListener("touchend",d)},[]),(0,r.useEffect)(()=>{var e;let n=()=>{c.current.isContentAreaTouched=!0};null===(e=a.current)||void 0===e||e.addEventListener("touchstart",n)},[]),{sheet:i,content:a}}();return console.log("bottom_sheet_height",60,u,d),(0,r.useEffect)(()=>{n(window.innerHeight-60)},[]),(0,t.jsxs)(v,{ref:o,sheetheight:e,children:[(0,t.jsx)(a,{}),(0,t.jsx)("div",{ref:i,className:"overflow-touch",children:(0,t.jsx)(s,{})})]})}let v=(0,l.Z)(c.E.div)(h(),e=>e.sheetheight);function m(){let[e,n]=(0,r.useState)();return(0,t.jsx)("div",{children:(0,t.jsx)("div",{className:" w-full  h-40 bg-gray-300",children:"gㅣ히히"})})}let f=["서울시 서초구 방배로18길 16","서울시 동작구 여의대방로22아길 22"];function w(e){return(0,r.useEffect)(()=>{{let e=document.createElement("script");e.src="//dapi.kakao.com/v2/maps/sdk.js?appkey=9d0f0e60b8c9641a75a00620cda24d1b&autoload=false&libraries=services",document.head.appendChild(e),e.onload=()=>{window.kakao.maps.load(function(){let e=document.getElementById("map"),n={center:new window.kakao.maps.LatLng(33.450701,126.570667),level:3},o=new window.kakao.maps.Map(e,n),t=new kakao.maps.MapTypeControl;o.addControl(t,kakao.maps.ControlPosition.TOPRIGHT);let r=new kakao.maps.ZoomControl;o.addControl(r,kakao.maps.ControlPosition.RIGHT);let i=new window.kakao.maps.Size(64,69),a={offset:new window.kakao.maps.Point(27,69)},c=new window.kakao.maps.MarkerImage("img/marker.png",i,a),s=new window.kakao.maps.services.Geocoder;f.map(e=>{s.addressSearch(e,function(e,n){if(n===window.kakao.maps.services.Status.OK){let n=new window.kakao.maps.LatLng(e[0].y,e[0].x);new window.kakao.maps.Marker({map:o,position:n,image:c}),o.setCenter(n)}})})})}}},[]),(0,t.jsxs)("div",{className:"w-full",children:[(0,t.jsx)("div",{id:"map",style:{width:"100%",height:"500px",position:"relative",overflow:"hidden"}}),(0,t.jsx)("div",{className:" w-screen h-screen",children:(0,t.jsx)(p,{})}),(0,t.jsx)(m,{})]})}var g=o(9034),x=o.n(g);function _(){return(0,t.jsxs)("div",{className:x().container,children:[(0,t.jsx)("h2",{className:"text-3xl font-bold underline",children:"KakaoMap"}),(0,t.jsx)(w,{})]})}},9034:function(e){e.exports={container:"Home_container__bCOhY",main:"Home_main__nLjiQ",footer:"Home_footer____T7K",title:"Home_title__T09hD",description:"Home_description__41Owk",code:"Home_code__suPER",grid:"Home_grid__GxQ85",card:"Home_card___LpL1",logo:"Home_logo__27_tb"}}},function(e){e.O(0,[925,774,888,179],function(){return e(e.s=5557)}),_N_E=e.O()}]);